
# Unified Dimension Documentation — Contoso Fake Data Generator

This document explains every dimension table generated by the pipeline.

---

# 1. Geography (DimGeography)

## Purpose
Defines all geographic locations used in Customers and Stores.

## Columns
- **GeographyKey** – Surrogate key  
- **City**  
- **State**  
- **Country**  
- **Continent**  
- **ISOCode** – Currency ISO code  

## Notes
- Countries with weight=0 remain in config but are excluded from output.  
- Geography is the root dependency for Customers and Stores.

---

# 2. Customers (DimCustomer)

## Purpose
Synthetic customers with controlled distribution by region.

## Columns
- **CustomerKey**  
- **FirstName**, **LastName**, **FullName**  
- **Gender**  
- **BirthDate**  
- **Email**, **Phone**  
- **AddressLine1**  
- **City**, **State**, **Country**  
- **GeographyKey**

## Notes
- Respects percentage distribution from config.  
- Regenerates automatically when geography changes.

---

# 3. Stores (DimStore)

## Purpose
Defines stores and their associated geography.

## Columns
- **StoreKey**  
- **StoreName**  
- **StoreType**  
- **Address**  
- **GeographyKey**  
- **City**, **Country**  
- **OpenDate**, **CloseDate**

## Notes
- Store geography must exist in geography.parquet.  

---

# 4. Dates (DimDate)

## Purpose
Full calendar dimension including:
- ISO calendar  
- Fiscal calendar  
- Business-day indicators  
- Current period flags  

## Column Categories

### Basic
- Date  
- Date Key  
- Year, Month, Day  
- Quarter  
- Month Name, Day Name  

### Business Logic
- Day of Week  
- Is Weekend  
- Is Business Day  
- Next Business Day  
- Previous Business Day  

### Fiscal Calendar
- Fiscal Year  
- Fiscal Month Number  
- Fiscal Quarter Number  
- Fiscal Year Start/End  
- Fiscal Quarter Start/End  

### Current Period Flags
- Is Today  
- Is Current Month  
- Is Current Quarter  
- Is Current Year  

---

# 5. Promotions (DimPromotion)

## Purpose
Marketing campaigns and discount periods.

## Promotion Types
- Holiday  
- Seasonal  
- Clearance  
- Limited Time  
- No Discount (always included)

## Columns
- **PromotionKey**
- **PromotionLabel**
- **PromotionName**
- **PromotionDescription**
- **DiscountPct**
- **PromotionType**
- **PromotionCategory**
- **StartDate**
- **EndDate**

---

# 6. Currency (DimCurrency)

## Purpose
List of allowed currencies defined in config.

## Columns
- **CurrencyKey**
- **ISOCode**
- **CurrencyName**

---

# 7. Exchange Rates (DimExchangeRate)

## Purpose
Simulated FX rates for each currency across time.

## Columns
- **ExchangeRateKey**
- **Date**
- **ISOCode**
- **CurrencyKey**
- **ExchangeRate**
- **BaseCurrency**

---

# 8. Products (DimProduct)

## Purpose
Catalog of all products.

## Columns
- **ProductKey**
- **ProductName**
- **Brand**
- **Category**
- **SubCategory**
- **UnitPrice**
- **UnitCost**

---

# Dimension Dependency Graph

```
            +-----------------------------+
            |         config.json         |
            +---------------+-------------+
                            |
                            v
+--------------------+     Geography      +
|   Currency         |    (root dim)      |
|   Exchange Rates   |         |          |
+---------+----------+         |          |
          |                    v          |
          |       +--------------------+  |
          |       |     Customers      |  |
          |       +--------------------+  |
          |                    |          |
          |                    v          |
          |       +--------------------+  |
          |       |       Stores       |  |
          |       +--------------------+  |
          |                               |
          +------------------+-------------+
                             |
                             v
                     +---------------+
                     |     Sales     |
                     +---------------+
```

---

# End of Documentation
